<fieldset class="scheduler-border" style="margin-bottom: 15px !important;">
    <legend class="scheduler-border">Request Info</legend>
    <div class="form-row custom-row-inline-inset">
        <div class="col-sm-8">
            <div class="input-group">
                <label class="form-control-sm col-sm-1" style="padding-left:0px !important;">Request No</label>
                <input type="text" class="form-control form-control-sm cust-sm col-sm-3 dirty" [ngModel]="requestData?.paytReqNo" readonly>
                <label class="form-control-sm col-sm-2 no-margin">Request Date</label>
                <div class="col-sm-3 dp-cont" style="margin-left: 0px !important">
                  <datepicker type="datetime" [showIcon]="false" [disabled]="true" [value]="requestData?.reqDate"></datepicker>
                </div>
                <label class="form-control-sm col-sm-1">Status</label>
                <input type="text"  class="form-control form-control-sm cust-sm col-sm-2" [ngModel]="requestData?.reqStatusDesc" readonly>
            </div>
            <div class="input-group">
                <label class="form-control-sm col-sm-1">Payee</label>
                <input type="text"  class="form-control form-control-sm cust-sm col-sm" maxlength="500" [ngModel]="requestData?.payee" readonly>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="input-group">
                <label class="form-control-sm col-sm-3" style="padding-left:0px !important;">Amount</label>
                 <input type="text" class="form-control form-control-sm cust-sm col-sm-2 text-right" style="margin-left: 3px !important;" [ngModel]="requestData?.currCd" readonly>
                <input type="text" class="form-control form-control-sm cust-sm col-sm text-right" style="margin-left: 3px !important;" [ngModel]="requestData?.reqAmt | number:'1.2-2'" readonly>
            </div>
            <div class="input-group">
                <label class="form-control-sm col-sm-3" style="padding-left:0px !important;">Local Amount</label>
                <input type="text" class="form-control form-control-sm cust-sm col-sm-2 text-right" style="margin-left: 3px !important;" [ngModel]="requestData?.currCd" readonly>
                <input type="text" class="form-control form-control-sm cust-sm col-sm text-right" style="margin-left: 3px !important;" [ngModel]="requestData?.localAmt | number:'1.2-2'" readonly>
            </div>
        </div>
    </div>
</fieldset>

<div class="cust-tabs-container" style="margin-top:10px !important">
    <ngb-tabset>
      <ngb-tab *ngIf="requestData?.tranTypeCd != 8">
        <ng-template ngbTabTitle>
          <div>{{ requestData?.tranTypeDesc }}</div>
        </ng-template>
        <ng-template ngbTabContent>
          <div class="input-group cust-border" style="padding-top: 0.6em">
            <div class="col-sm-12">
              <ng-container [ngSwitch]="true">
                <ng-container *ngSwitchCase ="requestData?.tranTypeCd == 1 || requestData?.tranTypeCd == 2 || requestData?.tranTypeCd == 3">
                    <app-cust-editable-non-datatable id="cedTbl" (clickLOV)="showLOV($event,'lovCedTbl')" (newClick)="onRowClick($event)" [passData]="cedingCompanyData" (tableDataChange)="cedingCompanyData.tableData=$event;addDirty('cedTbl');" #cedCompTbl></app-cust-editable-non-datatable>
                </ng-container>
                <ng-container *ngSwitchCase ="requestData?.tranTypeCd == 4">
                    <app-cust-editable-non-datatable id="inwTbl" [passData]="inwardPolBalData" (clickLOV)="showLOV($event,'lovInwardTbl')" #inwardTbl (tableDataChange)="inwardPolBalData.tableData=$event;addDirty('inwTbl');"></app-cust-editable-non-datatable>
                </ng-container>
                <ng-container *ngSwitchCase ="requestData?.tranTypeCd == 5">
                    <div class="row pt-1" >
                        <div controls-l class="input-group" style="margin-left: 30px">
                          <label class="form-control-sm col-sm-1" style="padding-left:0px !important;">Service Fee</label>
                          <input type="text" class="form-control form-control-sm cust-sm col-sm-2" style="z-index: 99">
                          <label class="form-control-sm col-sm-1" style="padding-left:0px !important;">Period As Of</label>
                          <input type="date" class="form-control form-control-sm cust-sm col-sm-2" style="z-index: 99">
                          <div class="col-sm-1">
                            <button class="cust-btn" style="z-index: 99">Distribute</button>
                          </div>
                        </div>
                      <app-cust-non-datatable [passData]="MainCompanyServiceAccountingData" class="w-100 px-5" style="margin-top: -36px ! important">
                      </app-cust-non-datatable>
                      
                    </div>
                    <div class="row" style="margin-top: 10px">
                      <app-cust-editable-non-datatable [passData]="SubServiceAccountingData" class="w-100 px-5"></app-cust-editable-non-datatable>
                    </div>

                </ng-container>
                <ng-container *ngSwitchCase ="requestData?.tranTypeCd == 6">
                    <div class="d-flex p-0">
                      <div class="col-sm-2"></div>
                      <div class="col-sm">
                        <app-cust-editable-non-datatable [passData]="TreatyBalanceData"></app-cust-editable-non-datatable>
                      </div>
                      <div class="col-sm-2"></div>
                    </div>
                </ng-container>
                <ng-container *ngSwitchCase ="requestData?.tranTypeCd == 7">
                    <app-payt-req-investment></app-payt-req-investment>
                </ng-container>
                <ng-container *ngSwitchCase="'QSOA BALANCES'">
                    <app-pr-qsoa></app-pr-qsoa>
                </ng-container>
                <ng-container *ngSwitchCase ="requestData?.tranTypeCd == 8">
                    
                </ng-container>
              </ng-container>
              <div class="form-row" style="margin-top: 40px !important;">
                <div class="form-group col-sm">
                  <div class="text-center">
                    <div class="cust-btn-container">
                      <button type="button" class="cust-btn" (click)="cancel()"><a>Cancel</a></button>
                      <button type="button" class="cust-btn" (click)="onClickSave()"><a>Save</a></button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </ngb-tab>
      <!-- <ngb-tab *ngIf="paymentType.toUpperCase() === 'INWARD POLICY BALANCES'" class="ngb-tab" title="Unapplied Collection">
        <ng-template ngbTabContent>
          <div class="input-group cust-border" style="padding-top: 0.6em">
            <div class="col-sm-12">
              <app-unapplied-collection></app-unapplied-collection>
            </div>
          </div>
        </ng-template>
      </ngb-tab>
      <ngb-tab class="ngb-tab" title="Others">
        <ng-template ngbTabContent>
          <app-ar-others></app-ar-others>
        </ng-template>
      </ngb-tab> -->
    </ngb-tabset>
  </div>

  <div class="col-sm-12" style="margin-top: 25px !important;padding-left: 0px !important;padding-right: 0px !important;">
    <fieldset class="scheduler-border" style="margin-top: 10px !important;">
      <div class="input-group" style="margin-left: -13px !important;margin-top: 10px !important;">
        <label class="form-control-sm col-sm-1">Created By</label>
        <input type="text" class="form-control form-control-sm col-sm" [ngModel]="selectedTblData?.createUser" readonly>
        <label class="form-control-sm col-sm-1 no-margin">Date Created</label>
        <div class="col-sm dp-cont">
          <datepicker [showIcon]="false" [showSeconds]="true" [disabled]="true" [value]="selectedTblData?.createDate"></datepicker>
        </div>
        <label class="form-control-sm col-sm-1">Last Update By</label>
        <input type="text" class="form-control form-control-sm col-sm" [ngModel]="selectedTblData?.updateUser" readonly>
        <label class="form-control-sm col-sm-1 no-margin">Last Update</label>
        <div class="col-sm dp-cont">
          <datepicker [showIcon]="false" [showSeconds]="true" [disabled]="true" [value]="selectedTblData?.updateDate"></datepicker>
        </div>
      </div>
    </fieldset>
  </div>


<app-mtn-clm-history-lov #mtnClmHistLov (selectedData)="setData($event,'lovCedTbl')" [limitHistCat]="limitHistCat" [limitClmHistTbl]="limitClmHistTbl" [lovCheckBox]="true"></app-mtn-clm-history-lov>

<app-lov #aginSoaLov [passData]="passData" (selectedData)="setData($event,'lovInwardTbl')"></app-lov>

<app-confirm-save  #conClm (onYes)="onSaveCPC()"></app-confirm-save>
<app-sucess-dialog #sucClm [icon]="dialogIcon" [message]="dialogMessage" (onOk)="checkCancel();"></app-sucess-dialog>
<app-cancel-button #canClm (onYes)="onClickSaveCPC('cancel')" [url]="'/payt-req'" ></app-cancel-button>

<app-confirm-save  #conInw (onYes)="onSaveInw()"></app-confirm-save>
<app-sucess-dialog #sucInw [icon]="dialogIcon" [message]="dialogMessage" (onOk)="checkCancelInw();"></app-sucess-dialog>
<app-cancel-button #canInw (onYes)="onClickSaveInw('cancel')" [url]="'/payt-req'" ></app-cancel-button>


<app-modal class="d-none" id="warnMdl" #warnMdl>
    <div header>Warning Message</div>
    <div body class="container-flex text-center">
        <fieldset class="scheduler-border" style="padding: 30px !important;"> 
            <p class="form-control-sm" style=" margin: 0px !important; padding: 0px !important;">{{ warnMsg }}</p>
        </fieldset>
    </div>
    <div footer class="d-flex justify-content-center w-100">                    
        <button class="cust-btn" type="button" (click)="warnMdl.closeModal()"><a>Ok</a></button>
    </div>
</app-modal>