<div class="row">
    <div class="col-sm-12">
        <fieldset class="scheduler-border">
            <legend class="scheduler-border">JV Info</legend>
               <div class="form-row custom-row-inline-inset" style="margin-top: -2px !important;margin-right: 5px !important;">
                <div class="input-group" style="margin-top: 14px !important;margin-bottom: -20px !important;">
                    <label class="form-control-sm col-sm-1" style="height: auto;">JV No</label>
                    <div class="col-sm-4">
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                            <input type="text" class="form-control form-control-sm cust-sm col-sm-3" style="margin-right: 2px !important" style="text-align: right;" [(ngModel)]="entryData.jvYear" readonly>
                            <input type="text" class="form-control form-control-sm cust-sm col-sm-3" style="text-align: right; margin-left:2px" [(ngModel)]="entryData.jvNo" readonly>
                            <label class="form-control-sm col-sm">Date</label>
                            <div class="col-sm-4 dp-cont">
                                <datepicker [type]="'date'" [showIcon]="true" [value]="entryData.jvDate?.split('T')[0]" (valueChange)="entryData.jvDate=dc($event,entryData.jvDate,'d')"></datepicker>
                            </div>
                             <!-- <input type="date" class="form-control form-control-sm cust-sm col-sm-4" style="margin-right: 2px !important;text-align: right;" > -->
                        </div>
                    </div>
                    <div class="col-sm-4" style="padding: 0;">
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                            <div class="col-sm-2 dp-cont" style="margin-left: -4px !important">
                            <datepicker [type]="'time'" [showIcon]="true" [value]="entryData.jvDate?.split('T')[1]" (valueChange)="entryData.jvDate=dc($event,entryData.jvDate,'t')"></datepicker>
                            </div>
                            <label class="form-control-sm col-sm-2">Status</label>
                            <input type="text" class="form-control form-control-sm cust-sm col-sm-5" [(ngModel)]="entryData.jvStatus" readonly>
                            <label class="form-control-sm col-sm-2">Auto</label> 
                            <input type="checkbox" name="autoTag" style="margin-top: 5px;margin-left: 8px" [checked]="entryData.autoTag === 'Y'" (change)="entryData.autoTag = (entryData.autoTag === 'Y') ? 'N' : 'Y'" disabled>
                        </div>
                    </div>
                    <!-- <label class="form-control-sm col-sm-1"></label>
                    <label class="form-control-sm col-sm-2"style="text-align: right;"></label> -->
                    
                    <label class="form-control-sm col-sm-1" style="    margin-left: -10px;">Ref No</label>
                    <input type="text" class="form-control form-control-sm cust-sm col-sm" style="margin-right: 4px !important;margin-left: 16px !important;" [(ngModel)]="entryData.refnoTranId">
                    <div style="margin-left: -19px !important;margin-right: 13px !important;z-index: 200;font-size: 14px;"><a><i class="fa fa-search"></i></a></div>
                    <!-- <label class="form-control-sm col-sm-1"></label>
                    <label class="form-control-sm col-sm-2"style="text-align: right;"></label> -->
                </div>
                <div class="input-group" style="margin-bottom: -13px !important">
                    <label class="form-control-sm col-sm-1" style="height: auto;">JV Type</label>
                    <div class="col-sm-8">
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                        <input type="text" class="form-control form-control-sm cust-sm col-sm" style="margin-right: 1px !important;"  (change)="tabController($event);" [(ngModel)]="entryData.tranTypeName">
                         <div style="margin-left: -19px !important;margin-right: 0px !important;z-index: 200;font-size: 14px;"><a (click)="openJVType()"><i class="fa fa-search"></i></a></div> 

                      <!--   <select class="form-control form-control-sm cust-sm col-sm">
                            <option>Error Correction</option>
                            <option>Reversal</option>
                        </select> -->
         <!--                    <select class="form-control form-control-sm cust-sm col-sm">
                                <option>Error Correction</option>
                                <option>Reversal</option>
                            </select> -->
                       
                       <!--  <select class="form-control form-control-sm cust-sm col-sm" (change)="tabController($event);" [(ngModel)]="record.jvType">
                                <option value="ADJUSTMENTS OF INWARD POLICY BALANCES">Adjustments of Inward Policy Balances</option>
                                <option value="LOSS RESERVE DEPOSIT">Loss Reserve Deposit</option>
                                <option value="GAIN FOREIGN EXCHANGE">Gain Foreign Exchange</option>
                                <option value="LOSS FOREIGN EXCHANGE">Loss Foreign Exchange</option>
                                <option value="Interest Income on Savings">Interest Income on Savings</option>
                                <option value="PREMIUM RESERVE RELEASED">Premium Reserve Released (Funds Held Released)</option>
                                <option value="Interest on Premium Reserve Released">Interest on Premium Reserve Released</option>
                                <option value="Withholding Tax - Interest on Premium Reserve Released">Withholding Tax - Interest on Premium Reserve Released</option>
                                <option value="Payment of WHTax by Service">Payment of WHTax by Service</option>
                                <option value="OFFSETTING OF OVERDUE ACCOUNTS AGAINST TREATY BALANCE">Offsetting of Overdue Accounts Against Treaty Balance</option>
                                <option value="OFFSETTING OF RECEIVABLES IN-TRUST AGAINST LOSSES">Offsetting of Receivables In-Trust Against Losses</option>
                                <option value="XOL Mindep">XOL Mindep</option>
                                <option value="XOL Premium Adjustment">XOL Premium Adjustment</option>
                                <option value="OFFSETTING OF CLAIMS AGAINST NEGATIVE TREATY BALANCE">Offsetting of Claims Against Negative Treaty Balance</option>
                                <option value="Uncollected Creditable Withholding Tax">Uncollected Creditable Withholding Tax</option>
                                <option value="Bad Debts Set up">Bad Debts Set up</option>
                                <option value="Bad Debts Write-Off">Bad Debts Write-Off</option>
                                <option value="Payment of Risk Management Fee to Employees">Payment of Risk Management Fee to Employees</option>
                                <option value="INTEREST ON OVERDUE ACCOUNTS - MONTHLY SETUP">Interest on Overdue Accounts - Monthly Setup</option>
                                <option value="Miscellaneous Income Allocation">Miscellaneous Income Allocation</option>
                                <option value="Application of Payments to Policies with Zero Balance">Application of Payments to Policies with Zero Balance</option>
                                <option value="OFFSETTING OF OUTSTANDING ACCOUNTS AGAINST TREATY BALANCE">Offsetting Of Outstanding Accounts Against Treaty Balance</option>
                                <option value="Others">Others</option>
                            </select> -->
                        </div>
                    </div>
                    <label class="form-control-sm col-sm-1" >Ref No Date</label>
                    <div class="col-sm dp-cont" style="margin-left: 6px !important;margin-right: 11px !important">
                    <datepicker [type]="'date'" [showIcon]="true" [value]="entryData.refnoDate?.split('T')[0]" (valueChange)="entryData.refnoDate = $event"></datepicker>
                    </div>
                </div>
                <div class="input-group" style="margin-bottom: -15px !important;">
                    <label class="form-control-sm col-sm-1" style="height: auto;">Particulars</label>
                    <div class="col-sm">
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                            <textarea class="form-control form-control-sm" style="font-size: 11px; min-height: 55px; margin-bottom: 11px;" [(ngModel)]="entryData.particulars"></textarea>
                        </div>
                    </div>
                </div>
                <div class="input-group" style="margin-bottom: -17px !important;">
                    <label class="form-control-sm col-sm-1" style="height: auto;">Amount</label>
                    <div class="col-sm-4">
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                            <input type="text" class="form-control form-control-sm cust-sm col-sm-2" style="margin-right: -1px !important;" [(ngModel)]="entryData.currCd">
                            <!-- <select class="form-control form-control-sm cust-sm col-sm-2" style="margin-right: -1px !important;">
                                <option>PHP</option>
                                <option>USD</option>
                                <option>EUR</option>
                            </select> -->
                            <div style="margin-left: -19px !important;margin-right: 6px !important;z-index: 200;font-size: 14px;"><a><i class="fa fa-search"></i></a></div>
                            <input type="text" class="form-control form-control-sm cust-sm col-sm" style="margin-left: 3px !important;" style="text-align: right;    margin-left: 3px;" [(ngModel)]="entryData.jvAmt" appCurrency>
                            <label class="form-control-sm col-sm-3" style="height: auto;">Currency Rate</label>
                        </div>
                    </div>
                    <input type="text" class="form-control form-control-sm cust-sm col-sm" style="margin-right: 2px !important; text-align: right;" [(ngModel)]="entryData.currRate" appCurrencyRate>
                    <label class="form-control-sm col-sm-1" style="height: auto;">Local Amount</label>
                    <div class="col-sm-4">
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                            <input type="text" class="form-control form-control-sm cust-sm col-sm-2" style="margin-right: 2px !important;" value="PHP" readonly>
                            <!-- <select class="form-control form-control-sm cust-sm col-sm-2" style="margin-right: 2px !important;">
                                <option>PHP</option>
                                <option>USD</option>
                                <option>EUR</option>
                            </select> -->
                          <!--   <div style="margin-left: -19px !important;margin-right: 6px !important;z-index: 200;font-size: 14px;"><a><i class="fa fa-search"></i></a></div> -->
                            <input type="text" class="form-control form-control-sm cust-sm col-sm" style="text-align: right;" [(ngModel)]="entryData.localAmt" appCurrency>
                        </div>
                    </div>
                </div>
                <div class="input-group" style="margin-top: 20px !important;">
                    <label class="form-control-sm col-sm-1" style="height: auto;">Prepared By</label>
                    <div class="col-sm-4">
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                            <input type="text" class="form-control form-control-sm cust-sm col-sm-9" style="margin-right: 2px !important" [(ngModel)]="entryData.preparedBy">
                            <div style="margin-left: -19px !important;margin-right: 10px !important;z-index: 200;font-size: 14px;"><a><i class="fa fa-search"></i></a></div>
                        </div>
                    </div>
                    <div class="col-sm-2"></div>
                    <label class="form-control-sm col-sm-1" style="height: auto;">Approved By</label>
                    <div class="col-sm-4">
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                             <input type="text" class="form-control form-control-sm cust-sm col-sm" [(ngModel)]="entryData.approvedBy" readonly>
                            <div style="margin-left: -19px !important;margin-right: 6px !important;z-index: 200;font-size: 14px;"><a><i class="fa fa-search"></i></a></div>
                        </div>
                    </div>
                </div>
                <div class="input-group" style="margin-bottom: -20px !important;">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-4"> 
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                            <input type="text" class="form-control form-control-sm cust-sm col-sm-9" style="margin-right: 2px !important">
                        </div>
                    </div>
                    <div class="col-sm-3"></div>
                    <div class="col-sm-4">
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                             <input type="text" class="form-control form-control-sm cust-sm col-sm" readonly>
                        </div>
                    </div>
                </div>
                <div class="input-group" style="margin-top: 20px !important;">
                    <label class="form-control-sm col-sm-1" style="height: auto;">Date Prepared</label>
                    <div class="col-sm-4">
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                            <div class="col-sm-5 dp-cont">
                            <datepicker [type]="'date'" required [showIcon]="true" [value]="entryData.preparedDate?.split('T')[0]" (valueChange)="entryData.preparedDate=dc($event,entryData.preparedDate,'d')"></datepicker>
                            </div>

                            <div class="col-sm-4 dp-cont">
                            <datepicker [type]="'time'" required [showIcon]="true" [value]="entryData.preparedDate?.split('T')[1]" (valueChange)="entryData.preparedDate=dc($event,entryData.preparedDate,'t')"></datepicker>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2"></div>
                    <label class="form-control-sm col-sm-1" style="height: auto;">Date Approved</label>
                    <div class="col-sm-4">
                        <div class="form-row custom-row-inline-inset" style="margin-top: 0px !important;">
                            <div class="col-sm dp-cont">
                                <datepicker [type]="'date'" required [showIcon]="true" [value]="entryData.approvedDate?.split('T')[0]" (valueChange)="entryData.approvedDate=dc($event,entryData.approvedDate,'d')" disabled></datepicker>
                            </div>
                            <div class="col-sm dp-cont">
                                <datepicker [type]="'time'" required [showIcon]="true" [value]="entryData.approvedDate?.split('T')[1]" (valueChange)="entryData.approvedDate=dc($event,entryData.approvedDate,'t')" disabled></datepicker>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
             <div class="form-row">
                <div class="form-group col-sm">
                    <div class="col-md-12 text-center">
                        <div class="cust-btn-container" style="margin-top: 10px;">
                            <button type="button" class="cust" style="margin-right: 5px !important; width: 10%" (click)="newJV()"><a>New JV</a></button>
                            <button type="button" class="cust" style="margin-right: 5px !important; width: 10%" (click)="saveJV()"><a>Save</a></button>
                            <button type="button" class="cust" style="margin-right: 5px !important; width: 10%" [disabled]="cancelJVBut" [class.cust-btn-disabled]="cancelJVBut" (click)="cancel()"><a>Cancel JV</a></button>
                            <button type="button" class="cust" style="margin-right: 5px !important; width: 10%" [disabled]="approveBut" [class.cust-btn-disabled]="approveBut" (click)="onClickApprove()"><a>Approve</a></button>
                            <button type="button" class="cust" style="margin-right: 5px !important; width: 10%" [disabled]="printBut" [class.cust-btn-disabled]="printBut" ><a>Print</a></button>
                            <button type="button" class="cust" style="margin-right: 5px !important; width: 10%" [disabled]="UploadBut" [class.cust-btn-disabled]="UploadBut" (click)="upload()"><a>Upload Acct. Ent</a></button>
                            <button type="button" class="cust" style="margin-right: 5px !important; width: 10%" [disabled]="allocBut" [class.cust-btn-disabled]="allocBut" ><a>Alloc. Trans.</a></button>
                            <button type="button" class="cust" style="margin-right: 5px !important; width: 10%" [disabled]="dcBut" [class.cust-btn-disabled]="dcBut" ><a>DebitCredit Memo</a></button>
                        </div>
                    </div>
                </div>
            </div>
        </fieldset>
    </div>
    <div class="col-sm-12">
        <fieldset class="scheduler-border" style="margin: 0px !important; margin-top: 12px !important;">
            <div class="form-row custom-row-inline-inset" style="margin-left: -27px;">
                <div class="input-group" style="margin-bottom: -15px !important;">
                    <label class="form-control-sm col-sm-1 text-right labels">Created By</label>
                    <input type="text" class="form-control form-control-sm col-sm-2" readonly [(ngModel)]="entryData.createUser">
                    <label class="form-control-sm col-sm-1 text-right labels">Date Created</label>
                    <input type="datetime-local" class="form-control form-control-sm col-sm-2" readonly [(ngModel)]="entryData.createDate">
                    <label class="form-control-sm col-sm-1 text-right labels">Last Update By</label>
                    <input type="text" class="form-control form-control-sm col-sm-2" readonly [(ngModel)]="entryData.updateUser">
                    <label class="form-control-sm col-sm-1 text-right labels">Last Update</label>
                    <input type="datetime-local" class="form-control form-control-sm col-sm-2" readonly [(ngModel)]="entryData.updateDate">
                </div>
            </div>
        </fieldset>
    </div>
</div>

<app-jv-type-lov id="jvTypeModal" (selectedData)="setTranType($event)"></app-jv-type-lov>

<app-modal class="d-none" id="uploadAcct" #AcctEntries>
    <div header>Uploading Accounting Entries</div>  
    <div body>
        <div class="form-row custom-row-inline-inset">
            <div class="input-group">
                <label class="form-control-sm col-sm-2 text-right labels">File</label>
                <input type="text" class="form-control form-control-sm col-sm-8" readonly [(ngModel)]="entryData.createUser">
                <button class="fa fa-folder-open btn-file" title="Open File" style="height: 21px !important;margin-left: 6px;">
                </button>
            </div>
        </div>
    </div>
    <div footer class="text-center">
        <button type="button" class="cust-btn" (click)="acctEntryMdl.closeModal();"><a>Upload</a></button>
        <button type="button" class="cust-btn" (click)="acctEntryMdl.closeModal();"><a>Cancel</a></button>
    </div>
</app-modal>

<app-modal class="d-none" id="approve" #ApproveJV>
    <div header>Confirmation</div>  
    <div body style=" max-width: 450px;">
        <div class="form-row custom-row-inline-inset">
            <span class="col-sm-2"></span>
            <label class="form-control-sm col-sm-10 text-right labels" style="text-align: left !important;font-size: 12px !important">Are you sure you want to approve this Journal Voucher?</label>
            <div class="input-group">
                <label class="form-control-sm col-sm-4 text-right labels">Approved By</label>
                <input type="text" class="form-control form-control-sm col-sm-7" readonly [(ngModel)]="entryData.createUser">
            </div>
            <div class="input-group">
                <label class="form-control-sm col-sm-4 text-right labels">Date Approved</label>
                <div class="col-sm-7 dp-cont">
                    <datepicker [type]="'date'" required [showIcon]="true" [value]="entryData.approvedDate?.split('T')[0]" (valueChange)="entryData.approvedDate=dc($event,entryData.approvedDate,'d')"></datepicker>
                </div>
            </div>
        </div>
    </div>
    <div footer class="text-center">
        <button type="button" class="cust-btn" (click)="approveJV.closeModal();"><a>Upload</a></button>
        <button type="button" class="cust-btn" (click)="approveJV.closeModal();"><a>Cancel</a></button>
    </div>
</app-modal>

