<div class="cust-tabs-container">
	<h4>Maintenance / Quotation & Policy / Insured List</h4>
	<ngb-tabset  #tabset (tabChange)="onTabChange($event)">
		<ngb-tab class="ngb-tab" title="Insured">
			<ng-template ngbTabContent>
				<div class="form-row">
					<div class="input-group">
						<div class="col-sm"></div>
						<div class="col-sm-8">
							<fieldset class="scheduler-border">
			                    <legend class="scheduler-border">Corporate Tag</legend>
			                    <div class="form-row custom-row-inline-inset">
			                    	<div class="input-group">
			                    		<div class="col-sm"></div>
			                    		<div class="col-sm-3 text-center"><input type="radio" name="corpTag" class="ng-dirty" value="I" [(ngModel)]="insuredRecord.corpTag" (change)="checkCorpTag()"><label class="form-control-sm">Individual</label></div>
			                    		<div class="col-sm-3 text-center"><input type="radio" name="corpTag" class="ng-dirty" value="C" [(ngModel)]="insuredRecord.corpTag" (change)="checkCorpTag()"><label class="form-control-sm">Corporate</label></div>
			                    		<div class="col-sm-3 text-center"><input type="radio" name="corpTag" class="ng-dirty" value="J" [(ngModel)]="insuredRecord.corpTag" (change)="checkCorpTag()"><label class="form-control-sm">Joint</label></div>	
			                    		<div class="col-sm"></div>
			                    	</div>
			                    </div>
			                </fieldset>
			                <fieldset class="scheduler-border">
			                    <legend class="scheduler-border">VAT Type</legend>
			                    <div class="form-row custom-row-inline-inset">
			                    	<div class="input-group">
			                    		<div class="col-sm"></div>
			                    		<div class="col-sm-3 text-center"><input type="radio" name="vatType" value="3" [(ngModel)]="insuredRecord.vatTag"><label class="form-control-sm">VAT Rate</label></div>
			                    		<div class="col-sm-3 text-center"><input type="radio" name="vatType" value="1" [(ngModel)]="insuredRecord.vatTag"><label class="form-control-sm">VAT Exempt</label></div>
			                    		<div class="col-sm-3 text-center"><input type="radio" name="vatType" value="2" [(ngModel)]="insuredRecord.vatTag"><label class="form-control-sm">Zero VAT</label></div>
			                    		<div class="col-sm"></div>
			                    	</div>
			                    </div>
			                </fieldset>
			                <fieldset class="scheduler-border">
			                	<legend class="scheduler-border">Basic Info</legend>
			                	<div class="form-row custom-row-inline-inset">
			                		<div class="input-group">
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">Insured No</label>
                        						<input type="text" class="form-control form-control-sm col-sm text-right" [(ngModel)]="insuredRecord.insuredId" readonly>
                        						<input type="checkbox" style="margin-top: 5px !important;margin-left: 5px !important;" [(ngModel)]="insuredRecord.activeTag" class=" cus-dirty" (change)="addDirty()"><label class="form-control-sm col-sm-1">Active</label>
			                				</div>
			                			</div>
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">Insured Type</label>
                        						<select class="form-control form-control-sm cust-sm col-sm warn cus-dirty" (change)="addDirty()" appRequired [(ngModel)]="insuredRecord.insuredType">
                        							<option value="P">Principal</option>
                        							<option value="C">Contractor</option>
                        						</select>
			                				</div>
			                			</div>
			                		</div>
			                		<div class="input-group">
			                			<label class="form-control-sm col-sm-2" style="margin-left: 33px !important">Name</label>
                        				<input type="text" class="form-control form-control-sm col-sm name warn cus-dirty" (change)="addDirty()" style="margin-right: 10px !important" appRequired maxlength="500" [(ngModel)]="insuredRecord.insuredName">
			                		</div>
			                		<div class="input-group">
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">Abbreviation</label>
                        						<input type="text" class="form-control form-control-sm col-sm warn cus-dirty" (change)="addDirty()" appRequired maxlength="50" [(ngModel)]="insuredRecord.insuredAbbr">
			                				</div>
			                			</div>
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">Old Insured No</label>
                        						<input type="text" class="form-control form-control-sm col-sm text-right cus-dirty" (blur)="fmtOnBlur()" (change)="addDirty()" maxlength="10" [(ngModel)]="insuredRecord.oldInsId" numbers-only>
			                				</div>
			                			</div>
			                		</div>
			                		<div class="input-group">
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">First Name</label>
                        						<input type="text" class="form-control form-control-sm col-sm ind-name cus-dirty" appRequired readonly (change)="addDirty()" maxlength="248" [(ngModel)]="insuredRecord.firstName" (keyup)="concatName()">
                        						<label class="form-control-sm">M.I.</label>
                        						<input type="text" class="form-control form-control-sm col-sm-1 cap-input ind-name cus-dirty midInit" appRequired readonly (change)="addDirty()" maxlength="3" [(ngModel)]="insuredRecord.middleInitial" (keyup)="concatName()">
			                				</div>
			                			</div>
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">Last Name</label>
                        						<input type="text" class="form-control form-control-sm col-sm ind-name cus-dirty"  appRequired readonly (change)="addDirty()" maxlength="248" [(ngModel)]="insuredRecord.lastName" (keyup)="concatName()">
			                				</div>
			                			</div>
			                		</div>
			                		<div class="input-group">
			                			<label class="form-control-sm col-sm-2" style="margin-left: 33px !important">Address</label>
                        				<input type="text" class="form-control form-control-sm col-sm warn cus-dirty" (change)="addDirty()" style="margin-right: 10px !important"  appRequired maxlength="100" [(ngModel)]="insuredRecord.addrLine1">
			                		</div>
			                		<div class="input-group">
			                			<label class="form-control-sm col-sm-2" style="margin-left: 33px !important"></label>
                        				<input type="text" class="form-control form-control-sm col-sm cus-dirty" (change)="addDirty()" style="margin-right: 10px !important" maxlength="100" [(ngModel)]="insuredRecord.addrLine2">
			                		</div>
			                		<div class="input-group">
			                			<label class="form-control-sm col-sm-2" style="margin-left: 33px !important"></label>
                        				<input type="text" class="form-control form-control-sm col-sm cus-dirty" (change)="addDirty()" style="margin-right: 10px !important" maxlength="100" [(ngModel)]="insuredRecord.addrLine3">
                        				<label class="form-control-sm">Zip Code</label>
                        				<input type="text" class="form-control form-control-sm col-sm-1 warn cus-dirty" (change)="addDirty()" style="margin-right: 10px !important" appRequired maxlength="12" [(ngModel)]="insuredRecord.zipCd" numbers-only>
			                		</div>
			                		<div class="input-group">
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">Contact No</label>
                        						<input type="text" class="form-control form-control-sm col-sm cus-dirty" (change)="addDirty()" maxlength="50" [(ngModel)]="insuredRecord.contactNo">
			                				</div>
			                			</div>
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">Email Address</label>
                        						<input type="text" class="form-control form-control-sm col-sm cus-dirty" (change)="addDirty()" maxlength="50" [(ngModel)]="insuredRecord.emailAdd">
			                				</div>
			                			</div>
			                		</div>
			                	</div>
			                </fieldset>
			                <fieldset class="scheduler-border">
			                	<legend class="scheduler-border">Other Info</legend>
			                	<div class="form-row custom-row-inline-inset">
			                		<div class="input-group">
			                			<label class="form-control-sm col-sm-2" style="margin-left: 33px !important">Remarks</label>
                        				<input type="text" class="form-control form-control-sm col-sm cus-dirty" (change)="addDirty()" style="margin-right: 10px !important" maxlength="4000" [(ngModel)]="insuredRecord.remarks">
			                		</div>
			                		<div class="input-group">
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">Created By</label>
                        						<input type="text" class="form-control form-control-sm col-sm" maxlength="10" [(ngModel)]="insuredRecord.createUser" readonly>
			                				</div>
			                			</div>
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">Date Created</label>
                        						<input type="{{ type }}" class="form-control form-control-sm col-sm" [(ngModel)]="insuredRecord.createDate" readonly>
			                				</div>
			                			</div>
			                		</div>
			                		<div class="input-group">
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">Last Update By</label>
                        						<input type="text" class="form-control form-control-sm col-sm" maxlength="10" [(ngModel)]="insuredRecord.updateUser" readonly>
			                				</div>
			                			</div>
			                			<div class="col-sm-6">
			                				<div class="form-row">
			                					<label class="form-control-sm col-sm-5">Last Update</label>
                        						<input type="{{ type }}" class="form-control form-control-sm col-sm" [(ngModel)]="insuredRecord.updateDate" readonly>
			                				</div>
			                			</div>
			                		</div>
			                	</div>
			                </fieldset>
			                <div class="form-row" style="margin-top: 10px !important;">
                                <div class="form-group col-sm">
                                    <div class="text-center">
                                        <div class="cust-btn-container">
                                            <button type="button" class="cust-btn" (click)="cancel()"><a>Cancel</a></button>
                                            <button type="button" class="cust-btn" (click)="onClickSave()"><a>Save</a></button>
                                        </div>
                                    </div>
                                </div>
                            </div>

						</div>
						<div class="col-sm"></div>
					</div>
				</div>
			</ng-template>
		</ngb-tab>
	</ngb-tabset>
</div>

<app-confirm-save (onYes)="onSaveMtnInsured()"></app-confirm-save>
<app-sucess-dialog [icon]="dialogIcon" [message]="dialogMessage" (onOk)="cancelFlag?this.cancelBtn.onNo():null"></app-sucess-dialog>
<app-cancel-button (onYes)="onSaveMtnInsured('cancel')" [url]="'/maintenance-insured'" ></app-cancel-button>

<ng-template #confirmLeave>
    <app-confirm-leave></app-confirm-leave>
</ng-template>