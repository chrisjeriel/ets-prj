<div class="cust-tabs-container">
    <h4>Maintenance / Quotation & Policy</h4>
    <ngb-tabset>
        <ngb-tab title="Approval Function">
            <ng-template ngbTabContent>
                <fieldset class="scheduler-border" style="margin-top: 10px !important">
                    <div class="row" style="margin-top: 25px !important;">
                    	<div class="col-sm-2"></div>
                    	<div class="col-sm-8">
	                        <app-cust-editable-non-datatable #approval [passData]="passData"(onDelete)="approval.onClickDelete('force');" (genericBtn)="deleteCurr()" (newClick)="onRowClick($event)">
	                        </app-cust-editable-non-datatable>
	                    </div>
	                    <div class="col-sm-2"></div>
	                </div>
                    <div class="custom-row-inline-inset" style="margin-top: 25px !important;">
                        <div class="form-row" style="margin-top: 40px !important;">
                            <div class="form-group col-sm">
                                <div class="text-center">
                                	<div class="cust-btn-container" style="margin-top: -40px !important;">
                                        <button type="button" class="cust-btn" (click)="usersModal()" [disabled]="disabledFlag" [class.cust-btn-disabled]="disabledFlag"><a>Users</a></button>
                                    </div>
                                    <hr/>
                                    <div class="cust-btn-container">
                                        <button type="button" class="cust-btn" (click)="cancel()"><a>Cancel</a></button>
                                        <button type="button" class="cust-btn" (click)="onClickSave()"><a>Save</a></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>

                <fieldset class="scheduler-border" style="margin-top: 10px !important;">
                    <div class="input-group" style="margin-left: -13px !important;margin-top: 10px !important;">
                        <label class="form-control-sm col-sm-1">Created By</label>
                        <input type="text" class="form-control form-control-sm col-sm" [(ngModel)]="approvalDetails.createUser" readonly>
                        <label class="form-control-sm col-sm-1">Created Date</label>
                        <input type="datetime-local" class="form-control form-control-sm col-sm" [(ngModel)]="approvalDetails.createDate" readonly>
                        <label class="form-control-sm col-sm-1">Last Update By</label>
                        <input type="text" class="form-control form-control-sm col-sm" [(ngModel)]="approvalDetails.updateUser" readonly>
                        <label class="form-control-sm col-sm-1">Last Update</label>
                        <input type="datetime-local" class="form-control form-control-sm col-sm" [(ngModel)]="approvalDetails.updateDate" readonly>
                    </div>
                </fieldset>  
                <app-mtn-line id="lineLOV" (selectedData)="setLine($event)"></app-mtn-line>

                <app-confirm-save #appSave id="approvalConfirm" (onYes)="saveData()" ></app-confirm-save>
                <app-sucess-dialog [icon]="dialogIcon" [message]="dialogMessage" (onOk)="cancelFlag ? this.cancelBtn.onNo():null"></app-sucess-dialog>
                <app-confirm-save  #userSave id="userConfirm" (onYes)="saveUserModal()"></app-confirm-save>
                <app-sucess-dialog #userSuccess [icon]="dialogIcon" [message]="dialogMessage" (onOk)="cancelFlag ? this.cancelBtn.onNo():null"></app-sucess-dialog>
                <app-cancel-button #cancelApprover (onYes)="saveData('cancel')" [url]="'/maintenance-qu-pol'" ></app-cancel-button>   
                <app-cancel-button #cancelUser (onYes)="saveUserModal('cancel')" (no)="userModal.closeModal();"></app-cancel-button>          
            </ng-template>
        </ngb-tab>
    </ngb-tabset>
</div>
<app-modal class="d-none" id="usersModal" #userModal>
	<div header>Users</div>
	<div body>
        <div class="row" style="margin-left: 25px">
            <label class="form-control-sm text-right">Approval Function Code: </label>
            <input class="form-control form-control-sm  col-sm-4" type="text" [(ngModel)]="approvalCd" readonly>
        </div>
        <div>
            <app-cust-editable-non-datatable #user [passData]="passDataUser" (tableDataChange)="updateUser($event)" (clickLOV)="showUsersLOV($event)"></app-cust-editable-non-datatable>
        </div>
	</div>
	<div footer class="text-center">
			<button type="button" class="cust-btn" (click)="onCancelUser()"><a>Cancel</a></button>
			<button type="button" class="cust-btn" (click)="onClickSaveUser()"><a>Save</a></button>
	</div>
</app-modal>
<!-- <app-mtn-users  id="usersLOV" (selectedData)="setUser($event)" #mtnUser></app-mtn-users> -->
 <app-mtn-approver id="usersLOV" (selectedData)="setUser($event)" #mtnUser [hide]="hideUserArray"></app-mtn-approver> 