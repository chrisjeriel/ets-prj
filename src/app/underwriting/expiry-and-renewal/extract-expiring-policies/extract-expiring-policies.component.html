<div class="cust-tabs-container">
	<h4>Policy / Expiry & Renewal</h4>
	<ngb-tabset>
		<ngb-tab title="Extract Expiring Policy">
			<ng-template ngbTabContent>
				<div class="row">
					<div class="col-sm-2"></div>
					<div class="col-sm-8">
						<fieldset class="scheduler-border">
							<legend class="scheduler-border">Parameter</legend>
							<div class="form-row custom-row-inline-inset">
								<div class="input-group">
									<div class="col-sm-2"></div>
									<input class="form-control-sm " type="radio" name="optradio" id="byPolNo" value="bypolno" [(ngModel)]="byDate" (click)="clearDates()">	
									<label class="form-control-sm col-sm-4" for="byDate">&nbsp;By Policy No</label>
									<div class="col-sm-2"></div>
								</div>
							</div>
							<div class="form-row custom-row-inline-inset">
								<div class="input-group" style="margin-top: -19px;">
									<div class="col-sm-2"></div>
									<label class="form-control-sm cust-sm from" style="color:white;" for="fromDate">From</label>
		                            <input [disabled]="byDate != 'bypolno'" type="text" class="form-control form-control-sm col-sm-2 cap-input" [(ngModel)]="expiryParameters.polLineCd" ngbTooltip="Line">
		                            <input [disabled]="byDate != 'bypolno'" type="text" class="form-control form-control-sm col-sm cap-input" style="margin-left: 3px;" [(ngModel)]="expiryParameters.polYear" ngbTooltip="Year">
		                            <input [disabled]="byDate != 'bypolno'" type="text" class="form-control form-control-sm col-sm cap-input" style="margin-left: 3px;" [(ngModel)]="expiryParameters.polSeqNo" ngbTooltip="Sequence No">
		                            <input [disabled]="byDate != 'bypolno'" type="text" class="form-control form-control-sm col-sm cap-input" style="margin-left: 3px;" [(ngModel)]="expiryParameters.polCedingId" ngbTooltip="Co Code">
		                            <input [disabled]="byDate != 'bypolno'" type="text" class="form-control form-control-sm col-sm cap-input" style="margin-left: 3px;" [(ngModel)]="expiryParameters.coSeriesNo" ngbTooltip="Co Series No">
		                             <input [disabled]="byDate != 'bypolno'" type="text" class="form-control form-control-sm col-sm cap-input" style="margin-left: 3px;" [(ngModel)]="expiryParameters.altNo" ngbTooltip="Alt No">
		                            <div style="padding-left: 3px; margin-top: -3px;"><a><i class="fa fa-search"></i></a></div>
									<div class="col-sm-2"></div>
								</div>
							</div>
							<div class="form-row custom-row-inline-inset">
								<div class="input-group" style="margin-top: -11px;">
									<div class="col-sm-2"></div>
									<input class="form-control-sm " type="radio" name="optradio" id="byDate" value="bydate" [(ngModel)]="byDate" (click)="clearDates()">	
									<label class="form-control-sm col-sm-4" for="byDate">&nbsp;By Date</label>
									<div class="col-sm-2"></div>
								</div>
							</div>
							<div class="form-row custom-row-inline-inset">
								<div class="input-group" style="margin-top: -19px;">
									<div class="col-sm-2"></div>
									<label class="form-control-sm cust-sm from" for="fromDate">From</label>
									<!-- <input [(ngModel)]="expiryParameters.fromExpiryDate" type="date" class="form-control form-control-sm cust-sm col-sm-4" id="fromDate" value="2018-12-04" [disabled]="byDate != 'bydate'"> -->
									<div class="col-sm dp-cont">
										<datepicker [type]="'date'" [showIcon]="true" [value]="fromExpiryDate.split('T')[0]" (valueChange)="fromExpiryDate=$event" [disabled]="byDate != 'bydate'"></datepicker>
									</div>

									<label class="form-control-sm cust-sm" style="margin-left: 15px">To</label>
									<div class="col-sm dp-cont">
										<datepicker [type]="'date'" [showIcon]="true" [value]="toExpiryDate.split('T')[0]" (valueChange)="toExpiryDate=$event" [disabled]="byDate != 'bydate'"></datepicker>
									</div>
									<div class="col-sm-2"></div>
								</div>
							</div>
							<div class="form-row custom-row-inline-inset">
								<div class="input-group" style="margin-top: -11px;">
									<div class="col-sm-2"></div>
									<input class="form-control-sm " type="radio" name="optradio" id="byMonthYear" value="bymoyo" [(ngModel)]="byDate" (click)="clearDates()">
									<label class="form-control-sm col-sm-5 text-left" for="byMonthYear">&nbsp;By Month/Year</label>
									<div class="col-sm-2"></div>
								</div>
							</div>

							<div class="form-row custom-row-inline-inset">
								<div class="input-group" style="margin-top: -19px;">
									<div class="col-sm-2"></div>
									<label class="form-control-sm cust-sm from">From</label>
									<select [(ngModel)]="fromMonth" class="form-control form-control-sm cust-sm col-sm-3" name="fromMonth" [disabled]="byDate != 'bymoyo'">
										<option value="1">January</option>
										<option value="2">February</option>
										<option value="3">March</option>
										<option value="4">April</option>
										<option value="5">May</option>
										<option value="6">June</option>
										<option value="7">July</option>
										<option value="8">August</option>
										<option value="9">September</option>
										<option value="10">October</option>
										<option value="11">November</option>
										<option value="12">December</option>
									</select>
									<input [(ngModel)]="fromYear" class="form-control form-control-sm cust-sm col-sm-1" type="text" name="fromYear" [disabled]="byDate != 'bymoyo'">
									<label class="form-control-sm cust-sm toMonth" style="margin-left: 15px">To</label>
									<select [(ngModel)]="toMonth" class="form-control form-control-sm cust-sm col-sm-3" name="toMonth" [disabled]="byDate != 'bymoyo'">
										<option value="1">January</option>
										<option value="2">February</option>
										<option value="3">March</option>
										<option value="4">April</option>
										<option value="5">May</option>
										<option value="6">June</option>
										<option value="7">July</option>
										<option value="8">August</option>
										<option value="9">September</option>
										<option value="10">October</option>
										<option value="11">November</option>
										<option value="12">December</option>
									</select>
									<input [(ngModel)]="toYear" class="form-control form-control-sm cust-sm col-sm-1" type="text" name="toYear" [disabled]="byDate != 'bymoyo'">
									<div class="col-sm-2"></div>
								</div>
							</div>
							<br>
							<div class="form-row custom-row-inline-inset">
								<div class="input-group" style="margin-top: -35px;padding-right: 40px">
									<label class="form-control-sm col-sm-2 text-right">Line</label>
				                    <input type="text" [ngModel]="lineCd" (ngModelChange)="lineCd = $event.toUpperCase()" class="form-control form-control-sm col-sm-1 cap-input" style="margin-right: -1px !important" (change)="checkCode($event, 'line')">
				                    <div class="text-search-ico" (click)="showLineLOV()"><a><i class="fa fa-search"></i></a></div>
				                    &nbsp;&nbsp;
				                    <input type="text" class="form-control form-control-sm" [(ngModel)]="lineDescription" readonly tabindex="-1">
								</div>
							</div>
							<div class="form-row custom-row-inline-inset">
								<div class="input-group" style="margin-top: -18px;padding-right: 40px">
									<label class="form-control-sm col-sm-2 text-right">Type of Cession</label>
				                    <input type="text" id="typeOfCessionId" class="form-control form-control-sm col-sm-1" style="margin-right: -1px !important" [(ngModel)]="typeOfCessionId" (change)="checkCode($event, 'typeOfCession')" maxlength="4" numbers-only>
				                    <div class="text-search-ico" (click)="showTypeOfCessionLOV()"><a><i class="fa fa-search"></i></a></div>
				                    &nbsp;&nbsp;
				                    <input type="text" class="form-control form-control-sm" [(ngModel)]="typeOfCession" readonly tabindex="-1">
								</div>
							</div>
							<div class="form-row custom-row-inline-inset">
								<div class="input-group" style="margin-top: -16px;padding-right: 40px"> 
									<label class="form-control-sm col-sm-2" style="padding-left: 0;">Ceding Company</label>
			                        <input type="text"class="form-control form-control-sm col-sm-1 cap-input" style="margin-right: -1px !important" [(ngModel)]="cedingId" (change)="checkCode($event, 'cedingCo')">
			                        <div class="text-search-ico" (click)="showCedingCompanyLOV()"><a><i class="fa fa-search"></i></a></div>
			                        &nbsp;&nbsp;
			                        <input type="text" class="form-control form-control-sm" [(ngModel)]="cedingName" readonly>
								</div>	
							</div>
						</fieldset>

						<fieldset class="scheduler-border">
							<legend class="scheduler-border">Last Extraction</legend>
								<div class="form-row custom-row-inline-inset" style="margin-bottom: 6px ! important;">
									<div class="input-group">
										<div class="col-sm input-group" style="
											padding-left: 40px !important;
											padding-right: 3px !important;">
											<label class="form-control-sm col-sm-4">Extracted By</label>
											<input [(ngModel)]="lastExtraction.extractedBy" class="form-control form-control-sm col-sm" type="text"  checked="checked">
										</div>
										<div class="col-sm input-group" style="padding-left: 0px !important; padding-right: 40px !important;">
											<label class="form-control-sm col-sm-4">Extraction Date</label>
											<input [(ngModel)]="lastExtraction.extractionDate" class="form-control form-control-sm col-sm" type="date" checked="checked" id="extractionDate">
										</div>
									</div>
								</div>
						</fieldset>

					</div>
					<div class="col-sm-2"></div>
				</div>
				<div class="form-row">
					<div class="form-group col-sm">
						<div class="col-md-13 text-center">
							<div class="cust-btn-container" style="margin-top: 5px;">
							<app-modal [btnTitle]="'Extract'" (click)="extract()">
								<div header>Extract Expiring Policies</div>
						        <div body class="row">
						           <!-- <div class="col-sm-1 text-right my-modal-icon">
							            <i class="fa fa-check-circle"></i>
							       </div>
							       <div class="col-sm-9 text-left my-modal-text">
						           		<p>Extracted Policies: {{extractedPolicies}}</p>
						           </div> -->

						            <div class="col-sm-1 text-right my-modal-icon">
					           			<i class="fa fa-check-circle"></i>
						           </div>
						           <div class="col-sm-8 my-modal-text">
						           		<span>Extracted Policies: {{extractedPolicies}}</span>
						           </div>

						        </div>
						        <div footer>
						            <button class="cust-btn" type="button" (click)="modalService.dismissAll();"><a>Ok</a></button>
						        </div>
							</app-modal>
							<button type="button" class="cust-btn" (click)="modalService.dismissAll();clearAll();"><a>Clear</a></button>
						</div>
						</div>
					</div>
				</div>
			</ng-template>
		</ngb-tab>
	</ngb-tabset>
</div>

<app-mtn-line id="lineLOV" (selectedData)="setLine($event)"></app-mtn-line>
<app-mtn-type-of-cession id="typeOfCessionLOV" (selectedData)="setTypeOfCession($event)"></app-mtn-type-of-cession>
<app-ceding-company id="cedingCompanyLOV" #ceding (selectedData)="setCedingcompany($event)"></app-ceding-company>