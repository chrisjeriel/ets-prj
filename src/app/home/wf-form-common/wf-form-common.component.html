<style type="text/css">
	select {
		position: absolute;
    	margin-top: 10px;
    	z-index: 20;
	}

</style>

<div>
	<fieldset class="scheduler-border">
		<select  [(ngModel)]="mode" (change)="switchScreen();">
            <option value="note"><a>Notes</a></option>
            <option value="reminder"><a>Reminders</a></option>
		</select>
		<legend class="scheduler-border">Notes & Reminders </legend>
		<div class="row">
			<div style="padding-top: 8px; padding-bottom: 10px;" class="col-sm-6">
	        	<div>
			        <div *ngIf="mode == 'reminder'" layout="row" layout-wrap layout-align="center center">
			            <p style="font-size: 15px; text-align: center; margin-bottom: 15px"><b>&nbsp;</b></p>
			        </div>
			        <div *ngIf="mode == 'note'" layout="row" layout-wrap layout-align="center center">
			            <p style="font-size: 15px; text-align: center; margin-bottom: 15px"><b>&nbsp;</b></p>
			        </div>
			        <div *ngIf="mode == 'reminder'" layout="row" layout-wrap layout-align="center center">
			            <div class="form-row" style="justify-content: center;margin: 0 0 0 0px">
			                <fieldset class="scheduler-border col-sm" style="width: 550px">
			                		<div class="form-row custom-row-inline-inset">
										<div class="input-group">
											<!-- <label class="form-control-sm col-sm-2" for="inputDate">Reminder Date</label> -->
											<!-- <input type="datetime-local" id="inputDate" class="form-control form-control-sm cust-sm col-sm-5" appRequired [(ngModel)]="reminderDate"  (change)=checkValidDate($event);> -->
<!-- 
											<datepicker [type]="'date'" [required]="true" [showIcon]="true" [value]="reminderDate?.split('T')[0]" (valueChange)="reminderDate=$event+'T'+reminderDate.split('T')[1];reminderDate=$event+'T'+reminderDate.split('T')[1];"></datepicker>
 -->

											<div class="input-group col-sm-6" style="padding: 0px;">
												<label class="form-control-sm col-sm-4">Reminder Date</label>
												<div class="col-sm dp-cont">
													<datepicker [type]="'date'" [showIcon]="true" [value]="reminderDate?.split('T')[0]" (valueChange)="reminderDate=$event+'T'+reminderDate.split('T')[1];"></datepicker>
												</div>
												<div class="col-sm-3 dp-cont">
													<datepicker [type]="'time'" [value]="reminderDate?.split('T')[1]" (valueChange)="reminderDate=reminderDate.split('T')[0]+'T'+$event" [textAlign]="'center'"></datepicker>	
												</div>
											</div>


											<!-- 
											<div class="col-sm dp-cont">
											</div>
											<div class="col-sm-3 dp-cont">
												<datepicker [disabled]="fromInq" [type]="'time'" [required]="true" [value]="policyInfo.inceptDate?.split('T')[1]" (valueChange)="policyInfo.inceptDate=policyInfo.inceptDate.split('T')[0]+'T'+$event;policyInfo.effDate=policyInfo.effDate.split('T')[0]+'T'+$event" [textAlign]="'center'"></datepicker>	
											</div> -->
											
											<label class="form-control-sm col-sm-2" for="inputAlarm" style="margin: 0 0 0 -5px;">Alarm Time</label>
											<input type="time" id="inputAlarm" class="form-control form-control-sm cust-sm col-sm-2" [(ngModel)]="alarmDate" (change)=checkValidTime($event); [disabled]="disableAlarmTime">
										</div>
										<div class="input-group" style="margin: -10px 0 0 0;">
											<label class="form-control-sm col-sm-2" for="inputTitle">Title</label>
											<input type="text" id="inputMeeting" class="form-control form-control-sm cust-sm col-sm-10" [(ngModel)]="titleReminder">
										</div>
										<div class="input-group" style="margin: -10px 0 -20px 0 ! important;">
											<label class="form-control-sm col-sm-2" for="inputReminder">Reminder</label>
											<textarea id="inputReminder" class="form-control form-control-sm cust-sm col-sm-10" rows="4" style="font-size: 11px;" appRequired [(ngModel)]="reminder"> </textarea>
										</div>
									</div>
			                </fieldset>
			            </div>
			        </div>
			        <div *ngIf="mode == 'note'" layout="row" layout-wrap layout-align="center center">
			            <div class="form-row" style="justify-content: center;margin: 0 0 0 0px">
			                <fieldset class="scheduler-border col-sm" style="width: 550px">
			                		<div class="form-row custom-row-inline-inset">
										<div class="input-group">
											<label class="form-control-sm col-sm-2" for="inputTitle">Title</label>
											<input type="text" id="inputMeeting" class="form-control form-control-sm cust-sm col-sm-10" [(ngModel)]="titleNote">
										</div>
										<div class="input-group" style="margin: -8px 0 -20px 0 ! important;">
											<label class="form-control-sm col-sm-2" for="inputReminder">Notes</label>
											<textarea id="inputNotes" class="form-control form-control-sm cust-sm col-sm-10" rows="4" style="font-size: 11px;" appRequired [(ngModel)]="notes"> </textarea>
										</div>
										<div class="input-group" style="margin: 0 0 -20px 0 ! important;">
											<label class="form-control-sm col-sm-2" for="inputTitle">Related Record</label>
											<input style="font-weight: bold;" type="text" id="relatedRecord" readonly class="form-control form-control-sm cust-sm col-sm-10" [(ngModel)]="'Quotation Number : ' + policyInfo.quotationNo">
										</div>
									</div>
			                </fieldset>
			            </div>
			        </div>

			        <div layout="row" layout-wrap layout-align="center center">
			            <div class="form-row" style="justify-content: center; margin: 15px 0 0 0px">
			        	    <fieldset class="scheduler-border col-sm" style="width: 550px">
			                	<div class="form-row custom-row-inline-inset">
										<div class="input-group">
											<input id="radio1" class="form-control-sm" type="radio" name="reminderOption" value="1" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="boolValue">
											<label class="form-control-sm" for="radio1">Assign to me</label>
										</div>
										<div class="input-group" style="margin: -10px 0 0 0;">
											<input id="radio2" class="form-control-sm" type="radio" name="reminderOption" value="2" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="boolValue">
											<label class="form-control-sm" for="radio2">Assign to</label>
										</div>
										<div class="input-group" style="margin: -10px 0 0 0;">
											<!-- <input type="text" id="inputAssignTo" class="form-control form-control-sm cust-sm col-sm-2"  style="margin: 0 0 0 65px;" [disabled]= disableAssignTo [(ngModel)]="userInfo.userId" (change)="checkCode($event)" appRequired> -->
											<input type="text" id="inputAssignTo" class="form-control form-control-sm cust-sm col-sm-2"  style="margin: 0 0 0 65px;" [disabled]= disableAssignTo [(ngModel)]="userInfo.userId" appRequired>
											<div id="search" class="text-search-ico" style="margin-top: -3px;"><a [ngClass]="{'disabled-a': disableAssignTo}" ><i id=searchicon class="fa fa-search" (click)="showUsersLOV('1');"></i></a></div>
											<input id="inputAssignToUsername" type="text" class="form-control form-control-sm cust-sm col-sm" style="margin: 0 0 0 8px;" [disabled]= disableAssignTo readonly [(ngModel)]="userInfo.userName">
										</div>
										<div class="input-group" style="margin: 10px 0 0 0;">
											<input id="radio3" class="form-control-sm" type="radio" name="reminderOption" value="3" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="boolValue">
											<label class="form-control-sm" for="radio3">Assign to many</label>
										</div>
										<div class="input-group" style="margin: -10px 0 0 0;">
											 <button type="button" class="cust-btn col-sm-2" style="margin: 0 0 0 65px;z-index: 20 !important;" (click)="showUsersLOV('0');" [disabled]= disableAssignToMany><a>Users</a></button>
											<input type="text" class="form-control form-control-sm cust-sm col-sm" disabled style="margin: 0 0 0 4px;" [(ngModel)]="userInfoToMany" appRequired>
										</div>
										<div class="input-group" style="margin: 10px 0 0 0;">
											<input id="radio4" class="form-control-sm" type="radio" name="reminderOption" value="4" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="boolValue">
											<label class="form-control-sm" for="radio4">Assign to all</label>
										</div>
										<div class="input-group" style="margin: 5px 0 0px 0 ! important;justify-content: center;" >
											 <button style="z-index: 20 !important;" type="button" class="cust-btn"><a>Clear</a></button>
											 <button style="z-index: 20 !important;" type="button" class="cust-btn" (click)="onClickSave();" [disabled]=disablebtnBool><a>Save</a></button>
										</div>
							 	</div>
			                </fieldset>
			            </div>
			        </div>

			        <div layout="row" layout-wrap layout-align="center center">
			            <div class="form-row" style="justify-content: center; margin: 15px 0 0 0px">
					      <fieldset class="scheduler-border col-sm" style="width: 550px! important;padding: 0 ! important; margin-top: -8px ! important">
					        <div class="row col-sm" style="margin: 0px 0 0px 0 ! important">
					            <div class="input-group">
									<label class="form-control-sm " style="margin: 0 0 0 -7px" >Created By</label>
									<label class="form-control-sm col-sm-3" style="margin: 0 0 0 10px">Date Created</label>
									<label class="form-control-sm col-sm-3" style="margin: 0 0 0 12px">Last Update By</label>
									<label class="form-control-sm col-sm-3" style="margin: 0 0 0 -15px">Last Update</label>
								</div>
								<div class="input-group" style="margin: 0px 0 12px 0 ! important">
									<input type="text" class="form-control form-control-sm cust-sm col-sm-3" disabled [(ngModel)]="createInfo.createdBy">
									<input type="text" class="form-control form-control-sm cust-sm col-sm-3" disabled [ngModel]="createInfo.dateCreated  | date:'MM-dd-yyyy hh:mm:ss a'" style="margin: 0 0 0 5px">
									<input type="text" class="form-control form-control-sm cust-sm col-sm-3" disabled [(ngModel)]="updateInfo.updatedBy" style="margin: 0 0 0 5px">
									<input type="text" class="form-control form-control-sm cust-sm col-sm-3" disabled [ngModel]="updateInfo.lastUpdate  | date:'MM-dd-yyyy hh:mm:ss a'" style="margin: 0 0 0 5px">
								</div>
					        </div>
					      </fieldset>
					    </div>
					</div>
			    </div>
			    

				<app-modal style="z-index: 99999;" class="d-none" (modalOpened)="openModal()" id="usersToManyMdl">
					<div header>List of Values</div>
					<div body>
						<app-cust-non-datatable [passData]="usersListing"></app-cust-non-datatable>
					</div>
					<div footer>
				        <div class="d-flex justify-content-center">
				            <button class="cust-btn" type="button" (click)="modalService.dismissAll(); cancel();"><a>Cancel</a></button>  
				            <button class="cust-btn" type="button" (click)="modalService.dismissAll(); confirm();"><a>Ok</a></button>
				        </div>
				    </div>
				</app-modal>

				<!-- <app-mtn-users id="usersLOV" (selectedData)="setPreparedBy($event)" (cancelMdl)="open(content,this.mode);"></app-mtn-users> TRBT#PROD_GRADE -->
				<app-mtn-users id="usersLOV" (selectedData)="setPreparedBy($event)"></app-mtn-users>
				<!-- <app-sucess-dialog [icon]="dialogIcon" [message]="dialogMessage" (onOk)="onOkSuccessDiag(onOkVar,this.mode);"></app-sucess-dialog> TRBT#PROD_GRADE -->
				<app-sucess-dialog [icon]="dialogIcon" [message]="dialogMessage"></app-sucess-dialog>
			</div>
			<div class="col-sm-6" style="padding-top: 8px; padding-bottom: 10px;">
				<app-cust-editable-non-datatable #recipientsTable id="recipientsTable" [passData]="recipientsData" class="d-block py-2">
			</app-cust-editable-non-datatable>
			</div>
		</div> <!-- End of row class -->
	</fieldset>
</div>
    

<app-modal class="d-none" id="warningModal">
    <div header>Notes & Reminders</div>
    <div body style="min-width: 300px !important;">
        <fieldset class="scheduler-border" style="padding-top: 5px !important;">
            <div class="custom-row-inline-inset" style="text-align: center">                
                <p>
                  Are you sure you want to save changes?
              	</p>
            </div>
        </fieldset>
    </div>
    <div footer class="w-100 text-right">
    	<button  class="cust-btn" type="button" (click)="saveNotesAndReminders();modalService.dismissAll();"><a>Yes</a></button>
    	<button  class="cust-btn" type="button" (click)="modalService.dismissAll();"><a>No</a></button>
    </div>
</app-modal>