<style>
.btn-action {
	text-decoration: none;
	border: none;
	background-color: white;
}

.btn-action img {
	width: 30px;
}

.btn-action:hover {
    color: #007bff;
    cursor: pointer;
	opacity: .75;
}

</style>

<!-- onClickCalendarModal(); -->
<div style="border: 1px solid #c5c3c3; margin-bottom: .75em; padding: 13px 1em;">
	<button title="Calendar" class="btn-action" (click)="open(content, 'calendar'); changeModalSize();"><a><img src="app/resources/images/wfm-icons/calendar.png"></a></button>
	<button title="Reminder" class="btn-action" (click)="open(content, 'reminder')"><a><img src="app/resources/images/wfm-icons/reminder.png"></a></button>
	<button title="Notes" class="btn-action" (click)="open(content, 'note')"><a><img src="app/resources/images/wfm-icons/notes.png"></a></button>
</div>

<ng-template #content let-modal>

    <div class="modal-body" style="max-height: 800px !important;">

    	<!-- <div *ngIf="mode == 'calendar'" layout="row" layout-wrap layout-align="center center">
            <p style="font-size: 15px; text-align: center; margin-bottom: 15px"><b>CALENDAR</b></p>
        </div> -->
        <div *ngIf="mode == 'calendar'" layout="row" layout-wrap layout-align="center center">
            <div class="form-row" style="justify-content: center;margin: 0 0 0 0px" style="width: 800px; padding: 1em 1em 2em 1em;">
                <app-wf-calendar #wfCalendar></app-wf-calendar>
            </div>
        </div>


    	<div *ngIf="mode == 'reminder'" layout="row" layout-wrap layout-align="center center">
            <p style="font-size: 15px; text-align: center; margin-bottom: 15px"><b>REMINDER</b></p>
        </div>
        <div *ngIf="mode == 'note'" layout="row" layout-wrap layout-align="center center">
            <p style="font-size: 15px; text-align: center; margin-bottom: 15px"><b>NOTE</b></p>
        </div>
    	<div *ngIf="mode == 'reminder'" layout="row" layout-wrap layout-align="center center">
            <div class="form-row" style="justify-content: center;margin: 0 0 0 0px">
                <fieldset class="scheduler-border col-sm" style="width: 550px">
                		<div class="form-row custom-row-inline-inset">
							<div class="input-group">
								<div class="input-group col-sm-6" style="padding: 0px;">
									<label class="form-control-sm col-sm-4">Reminder Date</label>
									<div class="col-sm dp-cont" style="margin-left: 0px !important;">
										<datepicker [type]="'date'" [showIcon]="true" [value]="reminderDate?.split('T')[0]" (valueChange)="reminderDate=$event+'T'+reminderDate.split('T')[1];"></datepicker>
									</div>
									<div class="col-sm-3 dp-cont">
										<datepicker [type]="'time'" [value]="reminderDate?.split('T')[1]" (valueChange)="reminderDate=reminderDate.split('T')[0]+'T'+$event" [textAlign]="'center'"></datepicker>	
									</div>
								</div>
								<div class="input-group col-sm-6" style="padding: 0px;">
									<label class="form-control-sm col-sm-4">Alarm Time</label>
									<div class="col-sm-4 p-cont">
										<datepicker [type]="'time'" [value]="alarmTime?.split('T')[1]" (valueChange)="alarmTime=alarmTime.split('T')[0]+'T'+$event" [textAlign]="'center'"></datepicker>	
									</div>
								</div>
							</div>
							<div class="input-group" style="margin: -2px 0 0 0;">
								<label class="form-control-sm col-sm-2" for="inputTitle">Title</label>
								<input type="text" id="inputMeeting" class="form-control form-control-sm cust-sm col-sm-4" [(ngModel)]="titleReminder">
								<div class="input-group col-sm-3">
									<div class="input-group-prepend" style="height: 22px !important;">
										<div class="input-group-text white-bg">
											<input name="input197" [checked]="impTag" (change)="impTag = !impTag" type="checkbox">
										</div>
									</div>
									<input name="input198" type="text" style="font-size: 11px !important; margin-left: 0 !important; margin-right: -20px;" value="Important" disabled class="form-control  form-control-sm white-bg">
								</div>
								<div class="input-group col-sm-3">
									<div class="input-group-prepend" style="height: 22px !important;">
										<div class="input-group-text white-bg">
											<input name="input199" [checked]="urgTag" (change)="urgTag = !urgTag" type="checkbox">
										</div>
									</div>
									<input name="input200" type="text" style="font-size: 11px !important; margin-left: 0 !important; margin-right: -14px;" value="Urgent" disabled class="form-control form-control-sm white-bg">
								</div>
							</div>
							<div class="input-group" style="margin: -8px 0 -20px 0 ! important;">
								<label class="form-control-sm col-sm-2" for="inputReminder">Reminder</label>
								<textarea id="inputReminder" class="form-control form-control-sm cust-sm col-sm-10" rows="4" style="font-size: 11px;" appRequired [(ngModel)]="reminder"> </textarea>
							</div>
						</div>
                </fieldset>
            </div>
        </div>
        <div *ngIf="mode == 'note'" layout="row" layout-wrap layout-align="center center">
            <div class="form-row" style="justify-content: center;margin: 0 0 0 0px">
                <fieldset class="scheduler-border col-sm" style="width: 550px">
                		<div class="form-row custom-row-inline-inset">
							<div class="input-group">
								<label class="form-control-sm col-sm-2" for="inputTitle">Title</label>
								<input type="text" id="inputMeeting" class="form-control form-control-sm cust-sm col-sm-4" [(ngModel)]="titleNote" name="titleNote">
								<div class="input-group col-sm-3">
									<div class="input-group-prepend" style="height: 22px !important;">
										<div class="input-group-text white-bg">
											<input name="input197" [checked]="impTag" (change)="impTag = !impTag" type="checkbox">
										</div>
									</div>
									<input name="input198" type="text" style="font-size: 11px !important; margin-left: 0 !important; margin-right: -20px;" value="Important" disabled class="form-control  form-control-sm white-bg">
								</div>
								<div class="input-group col-sm-3">
									<div class="input-group-prepend" style="height: 22px !important;">
										<div class="input-group-text white-bg">
											<input name="input199" [checked]="urgTag" (change)="urgTag = !urgTag" type="checkbox">
										</div>
									</div>
									<input name="input200" type="text" style="font-size: 11px !important; margin-left: 0 !important; margin-right: -14px;" value="Urgent" disabled class="form-control form-control-sm white-bg">
								</div>
							</div>
							<div class="input-group" style="margin: -8px 0 -20px 0 ! important;">
								<label class="form-control-sm col-sm-2" for="inputReminder">Notes</label>
								<textarea id="inputNotes" name="titleNote128" class="form-control form-control-sm cust-sm col-sm-10" rows="4" style="font-size: 11px;" appRequired [(ngModel)]="notes"> </textarea>
							</div>
						</div>
                </fieldset>
            </div>
        </div>

        <div *ngIf="mode != 'calendar'" layout="row" layout-wrap layout-align="center center">
            <div class="form-row" style="justify-content: center; margin: 15px 0 0 0px">
        	    <fieldset class="scheduler-border col-sm" style="width: 550px">
                	<div class="form-row custom-row-inline-inset">
							<div class="input-group">
								<input id="radio1" class="form-control-sm" type="radio" name="reminderOption" value="1" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="boolValue">
								<label class="form-control-sm" for="radio1">Assign to me</label>
							</div>
							<!-- <div class="input-group" style="margin: -10px 0 0 0;">
								<input id="radio2" class="form-control-sm" type="radio" name="reminderOption" value="2" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="boolValue">
								<label class="form-control-sm" for="radio2">Assign to</label>
							</div>
							<div class="input-group" style="margin: -10px 0 0 0;">
								<input type="text" id="inputAssignTo" class="form-control form-control-sm cust-sm col-sm-2"  style="margin: 0 0 0 65px;" [disabled]="disableAssignTo" [(ngModel)]="userInfo.userId" appRequired>
								<div id="search" class="text-search-ico" style="margin-top: -3px;"><a [ngClass]="{'disabled-a': disableAssignTo}" ><i id=searchicon class="fa fa-search" (click)="showUsersLOV('1');"></i></a></div>
								<input id="inputAssignToUsername" type="text" class="form-control form-control-sm cust-sm col-sm" style="margin: 0 0 0 8px;" [disabled]="disableAssignTo" readonly [(ngModel)]="userInfo.userName">
							</div> -->
							<div class="input-group" style="margin: -10px 0 0 0;">
								<input id="radio3" class="form-control-sm" type="radio" name="reminderOption" value="3" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="boolValue">
								<label class="form-control-sm" for="radio3">Assign to user</label>
							</div>
							<div class="input-group" style="margin: -10px 0 0 0;">
								 <button type="button" class="cust-btn col-sm-2" style="height: 22px; padding-top: 3px; margin: 0 0 0 65px;z-index: 20 !important;" (click)="showUsersLOV('0');" [disabled]="disableAssignToMany"><a>Users</a></button>
								<input type="text" class="form-control form-control-sm cust-sm col-sm" disabled style="margin: 0 0 0 4px;" [(ngModel)]="userInfoToMany" appRequired>
								<div class="col-sm-1"></div>
							</div>
							<div class="input-group" style="margin: 10px 0 0 0;">
								<input id="radio4" class="form-control-sm" type="radio" name="reminderOption" value="4" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="boolValue">
								<label class="form-control-sm" for="radio4">Assign to group</label>
							</div>
							<div class="input-group" style="margin: -10px 0 0 0; padding-bottom: 9px;">
								 <button type="button" class="cust-btn col-sm-2" style="height: 22px; padding-top: 3px; margin: 0 0 0 65px;z-index: 20 !important;" (click)="showUserGrpLOV('0')"  [disabled]="disableAssignToGroup"><a>Groups</a></button>
								<input type="text" class="form-control form-control-sm cust-sm col-sm" disabled style="margin: 0 0 0 4px;" [(ngModel)]="userInfoToGroup" appRequired>
								<div class="col-sm-1"></div>
							</div>
							<div class="input-group" style="margin: 5px 0 0px 0 ! important;justify-content: center;" >
								 <button style="z-index: 20 !important;" type="button" class="cust-btn" (click)="cancelBtn.clickCancel()"><a>Close</a></button>
								 <button style="z-index: 20 !important;" type="button" class="cust-btn" (click)="onClickSave();"><a>Save</a></button>
							</div>
				 	</div>
                </fieldset>
            </div>
        </div>

        <!-- <div *ngIf=mode layout="row" layout-wrap layout-align="center center">
            <p style="font-size: 15px; text-align: center; margin-bottom: 15px"><b>REMINDER</b></p>
        </div>
        <div *ngIf=!mode layout="row" layout-wrap layout-align="center center">
            <p style="font-size: 15px; text-align: center; margin-bottom: 15px"><b>NOTE</b></p>
        </div> -->


        <!-- <div *ngIf=mode layout="row" layout-wrap layout-align="center center">
            <div class="form-row" style="justify-content: center;margin: 0 0 0 0px">
                <fieldset class="scheduler-border col-sm" style="width: 550px">
                		<div class="form-row custom-row-inline-inset">
							<div class="input-group">
								<label class="form-control-sm col-sm-2" for="inputDate">Reminder Date</label>
								<input type="datetime-local" id="inputDate" class="form-control form-control-sm cust-sm col-sm-5" appRequired [(ngModel)]="reminderDate"  (change)=checkValidDate($event);>
								<label class="form-control-sm col-sm-2" for="inputAlarm" style="margin: 0 0 0 -5px;">Alarm Time</label>
								<input type="time" id="inputAlarm" class="form-control form-control-sm cust-sm col-sm-2" [(ngModel)]="alarmDate" (change)=checkValidTime($event); [disabled]="disableAlarmTime">
							</div>
							<div class="input-group" style="margin: -10px 0 0 0;">
								<label class="form-control-sm col-sm-2" for="inputTitle">Title</label>
								<input type="text" id="inputMeeting" class="form-control form-control-sm cust-sm col-sm-10" [(ngModel)]="title">
							</div>
							<div class="input-group" style="margin: -10px 0 -20px 0 ! important;">
								<label class="form-control-sm col-sm-2" for="inputReminder">Reminder</label>
								<textarea id="inputReminder" class="form-control form-control-sm cust-sm col-sm-10" rows="4" style="font-size: 11px;" appRequired [(ngModel)]="reminder"> </textarea>
							</div>
						</div>
                </fieldset>
            </div>
        </div> -->
        <!-- <div *ngIf=!mode layout="row" layout-wrap layout-align="center center">
            <div class="form-row" style="justify-content: center;margin: 0 0 0 0px">
                <fieldset class="scheduler-border col-sm" style="width: 550px">
                		<div class="form-row custom-row-inline-inset">
							<div class="input-group">
								<label class="form-control-sm col-sm-2" for="inputTitle">Title</label>
								<input type="text" id="inputMeeting" class="form-control form-control-sm cust-sm col-sm-10" [(ngModel)]="titleNote">
							</div>
							<div class="input-group" style="margin: -10px 0 -20px 0 ! important;">
								<label class="form-control-sm col-sm-2" for="inputReminder">Notes</label>
								<textarea id="inputNotes" class="form-control form-control-sm cust-sm col-sm-10" rows="4" style="font-size: 11px;" appRequired [(ngModel)]="notes"> </textarea>
							</div>
						</div>
                </fieldset>
            </div>
        </div> -->

        <!-- <div layout="row" layout-wrap layout-align="center center">
            <div class="form-row" style="justify-content: center; margin: 15px 0 0 0px">
        	    <fieldset class="scheduler-border col-sm" style="width: 550px">
                	<div class="form-row custom-row-inline-inset">
							<div class="input-group">
								<input id="radio1" class="form-control-sm" type="radio" name="reminderOption" value="1" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="reminderValue">
								<label class="form-control-sm">Assign to me</label>
							</div>
							<div class="input-group" style="margin: -10px 0 0 0;">
								<input id="radio2" class="form-control-sm" type="radio" name="reminderOption" value="2" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="reminderValue">
								<label class="form-control-sm">Assign to</label>
							</div>
							<div class="input-group" style="margin: -10px 0 0 0;">
								<input type="text" id="inputAssignTo" class="form-control form-control-sm cust-sm col-sm-2"  style="margin: 0 0 0 65px;" [disabled]= disableAssignTo [(ngModel)]="userInfo.userId" (change)="checkCode($event)" appRequired>
								<div id=search class="text-search-ico"><a [ngClass]="{'disabled-a': disableAssignTo}" ><i id=searchicon class="fa fa-search" (click)="showUsersLOV('1');"></i></a></div>
								<input id="inputAssignToUsername" type="text" class="form-control form-control-sm cust-sm col-sm" style="margin: 0 0 0 8px;" [disabled]= disableAssignTo readonly [(ngModel)]="userInfo.userName">
							</div>
							<div class="input-group" style="margin: 10px 0 0 0;">
								<input id="radio3" class="form-control-sm" type="radio" name="reminderOption" value="3" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="reminderValue">
								<label class="form-control-sm">Assign to many</label>
							</div>
							<div class="input-group" style="margin: -10px 0 0 0;">
								 <button type="button" class="cust-btn col-sm-2" style="margin: 0 0 0 65px;" (click)="showUsersLOV('0');" [disabled]= disableAssignToMany><a>Users</a></button>
								<input type="text" class="form-control form-control-sm cust-sm col-sm" disabled style="margin: 0 0 0 4px;" [(ngModel)]="userInfoToMany" appRequired>
							</div>
							<div class="input-group" style="margin: 10px 0 0 0;">
								<input id="radio4" class="form-control-sm" type="radio" name="reminderOption" value="4" style="margin: 0 0 0 65px" (change)="handleRadioBtnChange($event)" [(ngModel)]="reminderValue">
								<label class="form-control-sm">Assign to all</label>
							</div>
							<div class="input-group" style="margin: 5px 0 0px 0 ! important;justify-content: center;" >
								 <button type="button" class="cust-btn" (click)="modal.close('Close click');cancelReminder();"><a>Cancel</a></button>
								 <button type="button" class="cust-btn" (click)="saveReminderValidation(this.mode);" [disabled]= disablebtnBool><a>Save</a></button>
							</div>
				 	</div>
                </fieldset>
            </div>
        </div> -->
    </div>
    <div *ngIf="mode != 'calendar'" class="modal-footer" style="justify-content: center;margin: -8px 0 0 0 ! important">
      <fieldset class="scheduler-border col-sm" style="width: 550px! important;padding: 0 ! important; margin-top: -8px ! important">
        <div class="row col-sm" style="margin: 0px 0 0px 0 ! important">
            <div class="input-group">
				<label class="form-control-sm " style="margin: 0 0 0 -7px" >Created By</label>
				<label class="form-control-sm col-sm-3" style="margin: 0 0 0 10px">Date Created</label>
				<label class="form-control-sm col-sm-3" style="margin: 0 0 0 12px">Last Update By</label>
				<label class="form-control-sm col-sm-3" style="margin: 0 0 0 -15px">Last Update</label>
			</div>
			 <div class="input-group" style="margin: 0px 0 12px 0 ! important">
				<input type="text" class="form-control form-control-sm cust-sm col-sm-3" disabled [(ngModel)]="createInfo.createdBy">
				<input type="text" class="form-control form-control-sm cust-sm col-sm-3" disabled [ngModel]="createInfo.dateCreated  | date:'MM-dd-yyyy hh:mm:ss a'" style="margin: 0 0 0 5px">
				<input type="text" class="form-control form-control-sm cust-sm col-sm-3" disabled [(ngModel)]="updateInfo.updatedBy" style="margin: 0 0 0 5px">
				<input type="text" class="form-control form-control-sm cust-sm col-sm-3" disabled [ngModel]="updateInfo.lastUpdate  | date:'MM-dd-yyyy hh:mm:ss a'" style="margin: 0 0 0 5px">
			</div>

        </div>
      </fieldset>
    </div>
</ng-template>


<app-modal class="d-none" #calendarModal>
	<div body style="padding: 1em;">
		<app-wf-calendar></app-wf-calendar>
	</div>
	<div footer>
        <div class="d-flex justify-content-center">
            <button class="cust-btn" type="button" (click)="calendarModal.closeModal();"><a>Close</a></button>  
        </div>
    </div>
</app-modal>

<app-modal class="d-none" (modalOpened)="openModal()" #usersToManyMdl>
	<div header>List of Values</div>
	<div body>
		<app-cust-non-datatable #usersTable [passData]="usersListing"></app-cust-non-datatable>
	</div>
	<div footer>
        <div class="d-flex justify-content-center">
            <button class="cust-btn" type="button" (click)="usersToManyMdl.closeModal();"><a>Cancel</a></button>  
            <button class="cust-btn" type="button" (click)="confirm();"><a>Ok</a></button>
        </div>
    </div>
</app-modal>


<app-modal class="d-none" (modalOpened)="retrieveUserGrp();" #userGrpListingModal>
	<div header>List of Values</div>
	<div body>
		<app-cust-non-datatable #userGrpTable [passData]="userGrpListing"></app-cust-non-datatable>
		<!-- <div layout="row" layout-wrap layout-align="center center">
            <div class="form-row" style="justify-content: center;margin: 0 0 0 0px" style="width: 1000px; padding: 1em;">
                <app-wf-calendar></app-wf-calendar>
            </div>
        </div> -->
	</div>
	<div footer>
        <div class="d-flex justify-content-center">
            <button class="cust-btn" type="button" (click)="userGrpListingModal.closeModal();"><a>Cancel</a></button>  
            <button class="cust-btn" type="button" (click)="confirmUserGrp();"><a>Ok</a></button>
        </div>
    </div>
</app-modal>

<app-modal class="d-none" #warningModal>
    <div *ngIf="mode == 'reminder'" header>Reminders</div>
    <div *ngIf="mode == 'note'" header>Notes</div>
    <div body style="min-width: 300px !important;">
        <div style="text-align: center; padding-top: 5px !important; margin-bottom: -15px !important;">                
            <p>
              Are you sure you want to save changes?
          	</p>
        </div>
    </div>
    <div footer class="w-100 text-right">
    	<button  class="cust-btn" type="button" (click)="warningModal.closeModal();saveNotesAndReminders();"><a>Yes</a></button>
    	<button  class="cust-btn" type="button" (click)="warningModal.closeModal();"><a>No</a></button>
    </div>
</app-modal>

<app-mtn-users class="d-none" #usersLOV (selectedData)="setPreparedBy($event)"></app-mtn-users>

<app-confirm-save (onYes)="saveNotesAndReminders()"></app-confirm-save>
<app-sucess-dialog [icon]="dialogIcon" [message]="dialogMessage" (onOk)="cancelFlag && dialogIcon != 'error' ? clearValues(): null"></app-sucess-dialog>
<app-cancel-button (onYes)="saveNotesAndReminders(true)" (no)="clearValues()"></app-cancel-button>





